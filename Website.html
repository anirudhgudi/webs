<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anirudh Gudi - Mechanical Engineer & Robotics Specialist</title>

    <!-- Fonts and Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Three.js and GSAP for 3D Model Viewer -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        /* CORE STYLES FROM TILESUTE.HTML (main.css) - Adapted for this portfolio */
        :root {
            --app-height: 100vh;
            /* Color Palette Inspired by Tilesuite */
            --primary-color: #0d0c09;
            /* A deep, near-black for primary text and elements */
            --secondary-color: #374651;
            /* A muted dark blue/grey for accents */
            --accent-color: #c769b0;
            /* The pinkish accent from Tilesuite for hover states */
            --text-dark: #0d0c09;
            --text-light: rgba(13, 12, 9, 0.6);
            --bg-light: #fffefc;
            /* The warm off-white from Tilesuite */
            --bg-dark: #f7f1e8;
            /* The beige from Tilesuite's footer */
            --bg-white: #ffffff;
            --border-color: rgba(13, 12, 9, 0.14);
            --shadow: 0 8px 16px rgba(149, 157, 165, 0.2);
        }

        /* Dark Theme Adaptation */
        [data-theme="dark"] {
            --primary-color: #e4edee;
            --secondary-color: #cbd5e0;
            --text-dark: #f7fafc;
            --text-light: #a0aec0;
            --bg-light: #1a202c;
            --bg-dark: #2d3748;
            --bg-white: #252e3d;
            --border-color: #4a5568;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        html {
            font-family: 'Manrope', sans-serif;
            /* Using Manrope for a clean, modern look */
            font-size: 62.5%;
            -ms-text-size-adjust: 100%;
            -webkit-text-size-adjust: 100%;
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            font-family: 'Manrope', sans-serif;
            color: var(--text-light);
            font-size: clamp(18px, 1.4vw, 20px);
            line-height: 1.6;
            font-weight: 400;
            background: var(--bg-light);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body.menu-open {
            overflow: hidden;
        }

        #page-body {
            position: relative;
            z-index: 1;
            background: var(--bg-light);
            transition: background-color 0.3s ease, transform 0.5s ease;
        }

        body.menu-open #page-body {
            transform: scale(0.95);
            filter: blur(5px);
        }

        *,
        :after,
        :before {
            box-sizing: border-box;
            background-repeat: no-repeat;
            margin: 0;
            padding: 0;
        }

        a {
            text-decoration: none;
            color: var(--primary-color);
        }

        p a:hover {
            text-decoration: underline;
        }

        /* Typography */
        .h1,
        .h2,
        .h3,
        .h4,
        .h5,
        .h6,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-weight: 600;
            font-family: 'Manrope', sans-serif;
            line-height: 1.2;
            margin: 4.8rem 0 0;
            color: var(--text-dark);
        }

        .h1:first-child,
        .h2:first-child,
        .h3:first-child,
        h1:first-child,
        h2:first-child,
        h3:first-child {
            margin-top: 0;
        }

        .h1:before,
        .h2:before,
        .h3:before,
        h1:before,
        h2:before,
        h3:before {
            content: "";
            display: block;
            height: 0;
            width: 0;
            margin-top: -0.15em;
        }

        .text-light .h1,
        .text-light .h2,
        .text-light .h3,
        .text-light h1,
        .text-light h2,
        .text-light h3 {
            color: var(--bg-light);
        }

        h1,
        .h1 {
            font-size: clamp(48px, 6vw, 78px);
            font-weight: 700;
        }

        h2,
        .h2 {
            font-size: clamp(42px, 4.4vw, 64px);
        }

        h3,
        .h3 {
            font-size: clamp(28px, 3vw, 40px);
        }

        h4,
        .h4 {
            font-size: clamp(24px, 2vw, 34px);
        }

        strong {
            font-weight: 600;
            color: var(--text-dark);
        }

        .text-light strong {
            color: var(--bg-light);
        }

        p {
            margin-top: 3.2rem;
            margin-bottom: 0;
        }

        p:first-child {
            margin-top: 0 !important;
        }

        /* Layout */
        .wrapper,
        .wrapper-full {
            width: 100%;
            max-width: 1400px;
            padding: 0 3vw;
            margin: 0 auto;
            position: relative;
        }

        .grid-row {
            display: grid;
            grid-template-columns: repeat(24, 1fr);
            grid-gap: 24px;
            /* Increased gap for a more spacious feel */
        }

        .col-s1e12 {
            grid-column: 1 / span 12;
        }

        .col-s13e24 {
            grid-column: 13 / span 12;
        }

        .col-s1e24 {
            grid-column: 1 / span 24;
        }

        .col-s1e8 {
            grid-column: 1 / span 8;
        }

        .col-s9e24 {
            grid-column: 9 / span 16;
        }

        @media only screen and (max-width: 992px) {
            .grid-row>[class*="col-"] {
                grid-column: 1 / span 24 !important;
                margin-top: 3.2rem;
            }

            .grid-row>[class*="col-"]:first-child {
                margin-top: 0;
            }
        }

        .section {
            position: relative;
            margin: 16rem 0;
            opacity: 0;
            /* For fade-in animation */
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section:first-child {
            margin-top: 0;
        }

        .section.section-height-full {
            min-height: 100vh;
        }

        .section-title {
            text-align: center;
            font-size: clamp(42px, 5vw, 64px);
            margin-bottom: 6rem;
            color: var(--text-dark);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 4px;
            background: var(--accent-color);
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        #page-header {
            position: fixed;
            z-index: 2000;
            top: 0;
            left: 0;
            width: 100%;
            padding: 2.4rem 3vw;
            transition: all .4s ease;
        }

        #page-header .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #page-header .logo {
            font-size: 2.4rem;
            font-weight: 700;
            color: var(--text-dark);
            transition: color 0.3s ease;
        }

        .text-light #page-header .logo {
            color: var(--bg-light);
        }

        .menu-open #page-header .logo {
            color: var(--text-dark);
        }

        .theme-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .theme-btn {
            background: none;
            border: 2px solid var(--border-color);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-light);
            font-size: 1.6rem;
            z-index: 1;
        }

        .text-light .theme-btn {
            border-color: rgba(255, 255, 255, 0.3);
            color: var(--bg-light);
        }

        .theme-btn:hover {
            border-color: var(--accent-color);
            color: var(--accent-color);
        }

        /* Full-screen Menu */
        .mobile-menu-toggle {
            width: 40px;
            height: 40px;
            background: transparent;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            cursor: pointer;
            z-index: 2100;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            margin-left: 1rem;
        }

        .text-light .mobile-menu-toggle {
            border-color: rgba(255, 255, 255, 0.3);
        }

        .mobile-menu-toggle:hover {
            border-color: var(--accent-color);
        }

        .mobile-menu-toggle span {
            display: block;
            width: 18px;
            height: 2px;
            background-color: var(--text-dark);
            transition: all 0.3s ease-in-out;
            margin: 2px 0;
        }

        .text-light .mobile-menu-toggle span {
            background-color: var(--bg-light);
        }

        .menu-open .mobile-menu-toggle span {
            background-color: var(--text-dark);
        }

        .menu-open .mobile-menu-toggle span:nth-child(1) {
            transform: translateY(6px) rotate(45deg);
        }

        .menu-open .mobile-menu-toggle span:nth-child(2) {
            opacity: 0;
        }

        .menu-open .mobile-menu-toggle span:nth-child(3) {
            transform: translateY(-6px) rotate(-45deg);
        }


        .fullscreen-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: var(--bg-light);
            z-index: 1500;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .menu-open .fullscreen-nav {
            opacity: 1;
            visibility: visible;
        }

        .nav-links {
            list-style: none;
            text-align: center;
        }

        .nav-links li {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }

        .menu-open .nav-links li {
            opacity: 1;
            transform: translateY(0);
        }

        .menu-open .nav-links li:nth-child(1) {
            transition-delay: 0.1s;
        }

        .menu-open .nav-links li:nth-child(2) {
            transition-delay: 0.15s;
        }

        .menu-open .nav-links li:nth-child(3) {
            transition-delay: 0.2s;
        }

        .menu-open .nav-links li:nth-child(4) {
            transition-delay: 0.25s;
        }

        .menu-open .nav-links li:nth-child(5) {
            transition-delay: 0.3s;
        }

        .menu-open .nav-links li:nth-child(6) {
            transition-delay: 0.35s;
        }

        .menu-open .nav-links li:nth-child(7) {
            transition-delay: 0.4s;
        }


        .nav-links a {
            font-size: clamp(3rem, 5vw, 5rem);
            font-weight: 600;
            color: var(--text-dark);
            text-decoration: none;
            display: inline-block;
            padding: 1rem;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--accent-color);
        }

        /* Hero Section */
        .hero-section {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            color: var(--bg-light);
            margin: 0;
        }

        .fs-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            overflow: hidden;
        }

        .fs-bg-el {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .fs-bg-el.active {
            opacity: 1;
        }

        .fs-bg-el img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scale(1.1);
        }

        .fs-bg-el.has-overlay:after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: linear-gradient(to top, rgba(13, 12, 9, 0.7), rgba(13, 12, 9, 0.3));
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            max-width: 900px;
            padding: 2rem;
        }

        .hero-image {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255, 255, 255, 0.3);
            margin-bottom: 2rem;
        }

        .hero h1 {
            color: var(--bg-light);
            margin-bottom: 1rem;
        }

        .hero .subtitle {
            font-size: 2.4rem;
            margin-bottom: 1rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .hero .tagline {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            opacity: 0.8;
            font-weight: 400;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Buttons - NEW ELEGANT STYLE */
        .btn {
            font-size: clamp(16px, 1.2vw, 18px);
            font-weight: 500;
            cursor: pointer;
            position: relative;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            padding: 1.2rem 0;
            color: var(--text-dark);
            transition: color 0.3s ease;
        }

        .btn i {
            margin-right: 1rem;
        }

        .btn::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 2px;
            background: var(--accent-color);
            left: 0;
            bottom: 0;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s cubic-bezier(.4, .5, .1, 1);
        }

        .btn:hover::after {
            transform: scaleX(1);
        }

        .text-light .btn {
            color: var(--bg-light);
        }

        /* Primary Button Style - for Contact Form */
        .btn-primary {
            background: var(--primary-color);
            color: var(--bg-light);
            padding: 1.5rem 3rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: var(--accent-color);
            color: var(--bg-light);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-primary::after {
            display: none;
        }

        .cta-buttons {
            display: flex;
            gap: 4rem;
            justify-content: center;
            margin-top: 3rem;
        }

        /* About Section - Open Layout */
        #about .about-content {
            align-items: center;
        }

        #about .about-image {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        #about .about-text {
            font-size: 1.8rem;
            line-height: 1.8;
            color: var(--text-light);
        }

        #about .about-text p {
            margin-top: 2rem;
        }

        /* Skills Section - Open Layout */
        .skills-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 5rem 3rem;
            margin-top: 8rem;
        }

        .skill-item {
            display: flex;
            align-items: flex-start;
            gap: 2rem;
            text-align: left;
        }

        .skill-item i {
            font-size: 3rem;
            color: var(--accent-color);
            margin-top: 5px;
            width: 40px;
            text-align: center;
        }

        .skill-item h3 {
            font-size: 2rem;
            margin: 0 0 0.5rem 0;
            color: var(--text-dark);
        }

        .skill-item p {
            margin: 0;
            font-size: 1.6rem;
            color: var(--text-light);
        }

        /* Projects Section - Side Navigation Layout */
        #projects-section {
            background-color: var(--bg-dark);
            padding: 8rem 0;
            margin-top: 0;
        }

        .projects-layout {
            display: flex;
            gap: 4rem;
            min-height: 70vh;
        }

        .projects-nav {
            flex: 0 0 350px;
            border-right: 1px solid var(--border-color);
            padding-right: 4rem;
        }

        .project-nav-list {
            list-style: none;
        }

        .project-nav-item a {
            display: block;
            padding: 2rem 0;
            font-size: 2rem;
            font-weight: 500;
            color: var(--text-light);
            text-decoration: none;
            position: relative;
            background-size: cover;
            background-position: center;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: all 0.3s ease;
        }

        .project-nav-item a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--text-light);
            z-index: -2;
        }

        .project-nav-item a::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-dark);
            z-index: -1;
            transition: transform 0.4s cubic-bezier(.4, .5, .1, 1);
            transform-origin: right;
        }

        .project-nav-item a.active,
        .project-nav-item a:hover {
            color: var(--text-dark);
            -webkit-text-fill-color: var(--text-dark);
        }

        .project-nav-item a.active::after,
        .project-nav-item a:hover::after {
            transform: scaleX(0);
        }

        .projects-content {
            flex: 1;
        }

        .project-detail {
            display: none;
        }

        .project-detail.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .project-image {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin-bottom: 3rem;
        }

        .project-image img {
            width: 100%;
            display: block;
        }

        .project-title {
            font-size: 2.8rem;
            margin-bottom: 1rem;
        }

        .project-description {
            font-size: 1.6rem;
            color: var(--text-light);
            margin-bottom: 2rem;
        }

        .project-tech {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .tech-tag {
            background: transparent;
            color: var(--text-light);
            padding: 0.5rem 1.2rem;
            border-radius: 20px;
            font-size: 1.3rem;
            font-weight: 500;
            border: 1px solid var(--border-color);
        }

        .project-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .project-link {
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--accent-color);
        }

        .project-link:hover {
            text-decoration: underline;
        }

        /* Timeline Section */
        .timeline {
            position: relative;
            max-width: 1000px;
            margin: 8rem auto 0;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 3px;
            background: var(--border-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -1.5px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
        }

        .timeline-item:nth-child(odd) {
            left: 0;
            text-align: right;
        }

        .timeline-item:nth-child(even) {
            left: 50%;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--bg-white);
            border: 4px solid var(--accent-color);
            border-radius: 50%;
            top: 30px;
            z-index: 1;
        }

        .timeline-item:nth-child(odd)::after {
            right: -10px;
        }

        .timeline-item:nth-child(even)::after {
            left: -10px;
        }

        .timeline-content {
            background: var(--bg-white);
            padding: 3rem;
            border-radius: 15px;
            box-shadow: var(--shadow);
            position: relative;
        }

        .timeline-date {
            color: var(--accent-color);
            font-weight: 600;
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }

        .timeline-content h3 {
            font-size: 2rem;
        }

        /* 3D Model Showcase */
        #models {
            background-color: var(--bg-dark);
            padding: 8rem 0;
        }

        .model-viewer {
            background: var(--bg-white);
            border-radius: 15px;
            box-shadow: var(--shadow);
            overflow: hidden;
            margin: 2rem 0;
        }

        .viewer-header {
            background: var(--primary-color);
            color: var(--bg-light);
            padding: 2rem;
            text-align: center;
        }

        .viewer-header h3 {
            color: var(--bg-light);
        }

        .viewer-container {
            height: 500px;
            position: relative;
            cursor: grab;
        }

        .viewer-container:active {
            cursor: grabbing;
        }

        /* Blog & Contact */
        .placeholder-card {
            text-align: center;
            padding: 6rem 2rem;
            background: var(--bg-white);
            border-radius: 15px;
            box-shadow: var(--shadow);
            border: 1px dashed var(--border-color);
        }

        .placeholder-icon {
            font-size: 5rem;
            color: var(--accent-color);
            margin-bottom: 2rem;
        }

        .contact-form {
            background: var(--bg-white);
            padding: 4rem;
            border-radius: 15px;
            box-shadow: var(--shadow);
            height: 100%;
        }

        .form-row {
            margin-top: 2.5rem;
        }

        .form-row:first-child {
            margin-top: 0;
        }

        input[type=email],
        input[type=text],
        textarea {
            font-family: 'Manrope', sans-serif;
            font-size: 1.6rem;
            background: var(--bg-light);
            border: 1px solid var(--border-color);
            line-height: 1.5;
            height: auto;
            color: var(--text-dark);
            padding: 1.2rem;
            border-radius: 8px;
            width: 100%;
            transition: border .4s ease, box-shadow .4s ease;
        }

        input[type=email]:focus,
        input[type=text]:focus,
        textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(199, 105, 176, 0.2);
        }

        textarea {
            resize: vertical;
            min-height: 150px;
        }

        .contact-info-card {
            background: var(--primary-color);
            color: var(--bg-light);
            padding: 4rem;
            border-radius: 15px;
            box-shadow: var(--shadow);
            height: 100%;
        }

        .contact-info-card h3 {
            color: var(--bg-light);
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2.5rem;
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--bg-light);
            font-size: 1.8rem;
        }

        .contact-item h4 {
            font-size: 1.8rem;
            margin: 0 0 0.5rem 0;
            color: var(--bg-light);
        }

        .contact-item p,
        .contact-item a {
            font-size: 1.6rem;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
        }

        .social-links {
            display: flex;
            gap: 1.5rem;
            margin-top: 3rem;
        }

        .social-link {
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--bg-light);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 1.8rem;
        }

        .social-link:hover {
            background: var(--accent-color);
            transform: translateY(-3px);
        }

        /* Footer */
        .footer {
            background: var(--bg-dark);
            color: var(--text-light);
            text-align: center;
            padding: 4rem 0;
            font-size: 1.4rem;
        }

        .footer p {
            margin: 0.5rem 0;
        }

        /* AI Feature Styles */
        .ai-button {
            background-color: transparent;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.4rem;
        }

        .ai-button:hover {
            background-color: var(--accent-color);
            color: var(--bg-white);
        }

        .project-links .ai-button {
            margin-left: auto;
        }

        .about-text .ai-button {
            margin-top: 2rem;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--bg-white);
            padding: 3rem 4rem;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }

        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 2.2rem;
        }

        .modal-close-btn {
            background: none;
            border: none;
            font-size: 2.5rem;
            cursor: pointer;
            color: var(--text-light);
        }

        .modal-body p {
            font-size: 1.6rem;
            line-height: 1.7;
            color: var(--text-light);
            margin-top: 0;
        }

        .modal-personas {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .persona-btn {
            flex-grow: 1;
        }

        /* Loader Animation */
        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid var(--border-color);
            border-bottom-color: var(--accent-color);
            border-radius: 50%;
            display: block;
            margin: 2rem auto;
            animation: rotation 1s linear infinite;
        }

        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            html {
                font-size: 58%;
            }

            .projects-layout {
                flex-direction: column;
            }

            .projects-nav {
                flex: 1;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                padding-right: 0;
                padding-bottom: 2rem;
                width: 100%;
                overflow-x: auto;
            }

            .project-nav-list {
                display: flex;
                gap: 2rem;
            }

            .project-nav-item a {
                padding: 1rem;
                writing-mode: horizontal-tb;
                white-space: nowrap;
            }
        }

        @media (max-width: 768px) {
            html {
                font-size: 55%;
            }

            #page-header {
                padding: 1.5rem 3vw;
            }

            .section {
                margin: 10rem 0;
            }

            .section-title {
                font-size: 4rem;
                margin-bottom: 4rem;
            }

            .hero h1 {
                font-size: 4rem;
            }

            .hero .subtitle {
                font-size: 2rem;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            #about .about-content {
                text-align: center;
            }

            .timeline::after {
                left: 20px;
            }

            .timeline-item,
            .timeline-item:nth-child(even) {
                width: 100%;
                padding-left: 50px;
                padding-right: 10px;
                left: 0;
                text-align: left;
            }

            .timeline-item::after {
                left: 10px;
            }
        }
    </style>
</head>

<body data-theme="light">
    <!-- Header -->
    <header id="page-header">
        <div class="wrapper">
            <div class="header-inner">
                <div class="logo">Anirudh Gudi</div>
                <div class="header-controls">
                    <button class="theme-btn" onclick="setTheme('light')" title="Light Theme"><i
                            class="fas fa-sun"></i></button>
                    <button class="theme-btn" onclick="setTheme('dark')" title="Dark Theme"><i
                            class="fas fa-moon"></i></button>
                    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle Menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <nav class="fullscreen-nav" id="fullscreen-nav">
        <ul class="nav-links">
            <li><a href="#home" onclick="closeMobileMenu()">Home</a></li>
            <li><a href="#about" onclick="closeMobileMenu()">About</a></li>
            <li><a href="#projects-section" onclick="closeMobileMenu()">Projects</a></li>
            <li><a href="#timeline" onclick="closeMobileMenu()">Timeline</a></li>
            <li><a href="#models" onclick="closeMobileMenu()">3D Models</a></li>
            <li><a href="#blog" onclick="closeMobileMenu()">Blog</a></li>
            <li><a href="#contact" onclick="closeMobileMenu()">Contact</a></li>
        </ul>
    </nav>

    <main id="page-body">
        <!-- Hero Section -->
        <section id="home" class="hero-section section section-height-full text-light">
            <div class="fs-bg" id="hero-backgrounds">
                <div class="fs-bg-el has-overlay active"><img
                        src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?q=80&w=2070&auto=format&fit=crop"
                        alt="Robotics Lab"></div>
                <div class="fs-bg-el has-overlay"><img
                        src="https://images.unsplash.com/photo-1616749938031-017635535338?q=80&w=2070&auto=format&fit=crop"
                        alt="Mechanical Gears"></div>
                <div class="fs-bg-el has-overlay"><img
                        src="https://images.unsplash.com/photo-1518314916383-6d63c504a342?q=80&w=2070&auto=format&fit=crop"
                        alt="Circuit Board"></div>
            </div>
            <div class="hero-content">
                <img src="./DSC_5405.JPG" alt="Anirudh Gudi" class="hero-image">
                <h1 class="h1">Anirudh Gudi</h1>
                <p class="subtitle">M.S. Robotics Student & Mechanical Engineer</p>
                <p class="tagline">Developing intelligent navigation solutions for wheeled and legged robotic platforms
                    through advanced system integration.</p>
                <div class="cta-buttons">
                    <a href="#projects-section" class="btn">View My Work</a>
                    <a href="./Resume.pdf" class="btn" target="_blank"><i class="fas fa-download"></i> Download
                        Resume</a>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section">
            <div class="wrapper">
                <h2 class="section-title">About Me</h2>
                <div class="about-content grid-row">
                    <div class="about-image col-s1e8">
                        <img src="./images/about-photo.jpg" alt="Anirudh working on a project"
                            style="width: 100%; border-radius: 15px; box-shadow: var(--shadow);">
                    </div>
                    <div class="about-text col-s9e24">
                        <p id="about-text-content">M.S. Robotics student at UC Riverside with two years of experience in
                            3D modeling and sheet metal design. Specialized in developing navigation solutions for
                            wheeled and legged robotic platforms, with hands-on experience in robotic system
                            integration. Currently seeking an internship to expand expertise in robotic systems.</p>
                        <button class="ai-button" onclick="getCareerAdvice()">✨ Ask my AI Career Advisor</button>
                    </div>
                </div>

                <div class="skills-list" id="skills-list-content">
                    <div class="skill-item">
                        <i class="fas fa-cube"></i>
                        <div>
                            <h3>CAD/Design</h3>
                            <p>CREO, CATIA (V5/V6), SolidWorks, Fusion 360, GD&T, Ansys Workbench</p>
                        </div>
                    </div>
                    <div class="skill-item">
                        <i class="fas fa-robot"></i>
                        <div>
                            <h3>Robotics</h3>
                            <p>ROS/ROS2, Gazebo, SLAM, Path Planning, Inverse Kinematics, Locomotion</p>
                        </div>
                    </div>
                    <div class="skill-item">
                        <i class="fas fa-code"></i>
                        <div>
                            <h3>Programming</h3>
                            <p>Python (Intermediate), MATLAB/Simulink (Intermediate), C/C++ (Basic)</p>
                        </div>
                    </div>
                    <div class="skill-item">
                        <i class="fas fa-cogs"></i>
                        <div>
                            <h3>Engineering Skills</h3>
                            <p>DFM/DFA, Linux Basics, Rapid Prototyping, Motor Selection, Embedded Systems</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section with Side Navigation -->
        <section id="projects-section" class="section">
            <div class="wrapper">
                <h2 class="section-title">Key Projects</h2>
                <div class="projects-layout">
                    <nav class="projects-nav">
                        <ul class="project-nav-list">
                            <li class="project-nav-item">
                                <a href="#" class="active" data-project="project-quadruped"
                                    style="background-image: url('https://images.unsplash.com/photo-1678122426392-8706781e9d82?q=80&w=2070&auto=format&fit=crop')">Human-Companion
                                    Quadruped Planner</a>
                            </li>
                            <li class="project-nav-item">
                                <a href="#" data-project="project-fcleanbot"
                                    style="background-image: url('./images/projects/robotics-project-1.jpg')">FCleanBOT
                                    Autonomous Cleaning Robot</a>
                            </li>
                            <li class="project-nav-item">
                                <a href="#" data-project="project-fusion"
                                    style="background-image: url('./images/projects/mechanical-project-1.jpg')">Adaptive
                                    Sensor Fusion for Localization</a>
                            </li>
                            <li class="project-nav-item">
                                <a href="#" data-project="project-scara"
                                    style="background-image: url('./images/projects/robotics-project-2.jpg')">SCARA
                                    Robot Fault Detection</a>
                            </li>
                            <li class="project-nav-item">
                                <a href="#" data-project="project-gantry"
                                    style="background-image: url('https://images.unsplash.com/photo-1629904853716-f0bc54eea481?q=80&w=1974&auto=format&fit=crop')">Gantry
                                    Loader Robot for CNC</a>
                            </li>
                        </ul>
                    </nav>
                    <div class="projects-content">
                        <div id="project-quadruped" class="project-detail active">
                            <div class="project-image"><img
                                    src="https://images.unsplash.com/photo-1678122426392-8706781e9d82?q=80&w=2070&auto=format&fit=crop"
                                    alt="Quadruped Robot navigating terrain"></div>
                            <h3 class="project-title">Human-Companion Quadruped Footstep Planner</h3>
                            <p class="project-description">Developing a real-time footstep-planning framework that
                                enables a quadruped to walk safely alongside a human companion across variable
                                indoor/outdoor terrains. Leveraging ROS 2, terrain-aware safety masks, and human-motion
                                prediction with sim-to-real transfer.</p>
                            <div class="project-tech">
                                <span class="tech-tag">ROS 2</span><span class="tech-tag">Locomotion</span><span
                                    class="tech-tag">GPU-accelerated Training</span><span
                                    class="tech-tag">Sim-to-Real</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">In Progress</a>
                                <button class="ai-button" onclick="handleExplainProjectClick(this)">✨ Explain with
                                    AI</button>
                            </div>
                        </div>
                        <div id="project-fcleanbot" class="project-detail">
                            <div class="project-image"><img src="./images/projects/robotics-project-1.jpg"
                                    alt="FCleanBOT Autonomous Cleaning Robot"></div>
                            <h3 class="project-title">FCleanBOT Autonomous Cleaning Robot</h3>
                            <p class="project-description">Developed an integrated mobile robot in ROS using TurtleBot3
                                and OpenManipulator-X for cleaning and object manipulation. Implemented LiDAR-based
                                SLAM, boustrophedon path planning, and inverse kinematics.</p>
                            <div class="project-tech">
                                <span class="tech-tag">ROS</span><span class="tech-tag">Python</span><span
                                    class="tech-tag">SLAM</span><span class="tech-tag">MoveIt</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">GitHub</a>
                                <button class="ai-button" onclick="handleExplainProjectClick(this)">✨ Explain with
                                    AI</button>
                            </div>
                        </div>
                        <div id="project-fusion" class="project-detail">
                            <div class="project-image"><img src="./images/projects/mechanical-project-1.jpg"
                                    alt="Adaptive Sensor Fusion Visualization"></div>
                            <h3 class="project-title">Adaptive Sensor Fusion for Localization</h3>
                            <p class="project-description">Built a system combining GNSS, IMU, and odometry using EKF,
                                UKF, and Particle Filters. Dynamically selected fusion models based on sensor
                                confidence, improving accuracy by 15% over static methods.</p>
                            <div class="project-tech">
                                <span class="tech-tag">Python</span><span class="tech-tag">MATLAB</span><span
                                    class="tech-tag">EKF/UKF</span><span class="tech-tag">GNSS</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">Read Report</a>
                                <button class="ai-button" onclick="handleExplainProjectClick(this)">✨ Explain with
                                    AI</button>
                            </div>
                        </div>
                        <div id="project-scara" class="project-detail">
                            <div class="project-image"><img src="./images/projects/robotics-project-2.jpg"
                                    alt="SCARA Robot Simulation"></div>
                            <h3 class="project-title">SCARA Robot Fault Detection</h3>
                            <p class="project-description">Created a MATLAB/Simulink model of a SCARA robot, injecting
                                faults to evaluate system response and designing residual-based fault detection logic to
                                trigger recovery behaviors and ensure robustness.</p>
                            <div class="project-tech">
                                <span class="tech-tag">MATLAB</span><span class="tech-tag">Simulink</span><span
                                    class="tech-tag">Control Systems</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">View Slides</a>
                                <button class="ai-button" onclick="handleExplainProjectClick(this)">✨ Explain with
                                    AI</button>
                            </div>
                        </div>
                        <div id="project-gantry" class="project-detail">
                            <div class="project-image"><img
                                    src="https://images.unsplash.com/photo-1629904853716-f0bc54eea481?q=80&w=1974&auto=format&fit=crop"
                                    alt="CNC Machine"></div>
                            <h3 class="project-title">Gantry Loader Robot for CNC Machine</h3>
                            <p class="project-description">Led a 4-member team to build a 3DOF gantry robot to pick and
                                place circular workpieces into a turning machine. Performed engineering calculations and
                                validated structural integrity through Ansys simulations.</p>
                            <div class="project-tech">
                                <span class="tech-tag">Ansys</span><span class="tech-tag">CAD</span><span
                                    class="tech-tag">Structural Analysis</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">Read Report</a>
                                <button class="ai-button" onclick="handleExplainProjectClick(this)">✨ Explain with
                                    AI</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- Timeline Section -->
        <section id="timeline" class="section">
            <div class="container">
                <h2 class="section-title">My Journey</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-date">2024 - Present</div>
                            <h3>M.S. in Robotics</h3>
                            <p>University of California, Riverside. Courses in Machine Learning, Foundations of
                                Robotics, and AI.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-date">2022 - 2024</div>
                            <h3>Engineer, Automotive</h3>
                            <p>At L&T Technology Services, designed and optimized structural brackets and BIW parts for
                                a major Japanese automotive company using CATIA, DFM/DFA, and GD&T principles.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-date">2018 - 2022</div>
                            <h3>B.E. in Mechanical Engineering</h3>
                            <p>KLE Technological University. Focused on Mechatronics, CAE, and Control Systems.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3D Models Section -->
        <section id="models" class="section">
            <div class="container">
                <h2 class="section-title">3D Model Showcase</h2>
                <div class="model-viewer">
                    <div class="viewer-header">
                        <h3 class="h3">Interactive 3D Model Viewer</h3>
                        <p>Explore my mechanical designs and robotic prototypes</p>
                    </div>
                    <div class="viewer-container" id="model-viewer-container">
                        <!-- 3D viewer will be injected here by script -->
                    </div>
                </div>
            </div>
        </section>


        <!-- Blog Section -->
        <section id="blog" class="section">
            <div class="container">
                <h2 class="section-title">Blog & Insights</h2>
                <div class="placeholder-card">
                    <i class="fas fa-hammer placeholder-icon"></i>
                    <h3 class="h3">Under Construction</h3>
                    <p>I'm currently working on exciting blog content. Stay tuned for in-depth technical articles,
                        project breakdowns, and industry insights!</p>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section">
            <div class="container">
                <h2 class="section-title">Let's Connect</h2>
                <div class="grid-row">
                    <div class="col-s1e12">
                        <div class="contact-info-card">
                            <h3 class="h3" style="margin-bottom: 3rem;">Get In Touch</h3>
                            <div class="contact-item">
                                <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                                <div>
                                    <h4>Email</h4>
                                    <p><a href="mailto:contact.anirudhgudi@gmail.com">contact.anirudhgudi@gmail.com</a>
                                    </p>
                                </div>
                            </div>
                            <div class="contact-item">
                                <div class="contact-icon"><i class="fas fa-phone"></i></div>
                                <div>
                                    <h4>Phone</h4>
                                    <p>+1 (951) 548-9376</p>
                                </div>
                            </div>
                            <div class="contact-item">
                                <div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div>
                                <div>
                                    <h4>Location</h4>
                                    <p>Riverside, California</p>
                                </div>
                            </div>
                            <div class="social-links">
                                <a href="https://linkedin.com/in/anirudh-gudi" class="social-link" target="_blank"
                                    title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                                <a href="https://github.com/anirudhgudi" class="social-link" target="_blank"
                                    title="GitHub"><i class="fab fa-github"></i></a>
                                <a href="https://medium.com/@anirudhgudi" class="social-link" target="_blank"
                                    title="Medium"><i class="fab fa-medium-m"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-s13e24">
                        <div class="contact-form">
                            <h3 class="h3" style="margin-bottom: 3rem;">Send a Message</h3>
                            <form id="contact-form" onsubmit="handleFormSubmit(event)">
                                <div class="form-row"><input type="text" id="name" name="name" required
                                        placeholder="Your Name"></div>
                                <div class="form-row"><input type="email" id="email" name="email" required
                                        placeholder="Your Email"></div>
                                <div class="form-row"><input type="text" id="subject" name="subject" required
                                        placeholder="Subject"></div>
                                <div class="form-row"><textarea id="message" name="message" required
                                        placeholder="Tell me about your project, collaboration ideas, or just say hello!"></textarea>
                                </div>
                                <div class="form-row"><button type="submit" class="btn btn-primary"><i
                                            class="fas fa-paper-plane"></i> Send Message</button></div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Anirudh Gudi. All rights reserved.</p>
            <p>Designed with a passion for innovation and excellence in engineering.</p>
        </div>
    </footer>

    <!-- AI Modal -->
    <div id="ai-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">AI Explanation</h3>
                <button class="modal-close-btn" onclick="closeModal('ai-modal')">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- AI content will be injected here -->
            </div>
            <div class="modal-personas" id="modal-personas">
                <!-- Persona buttons will be injected here -->
            </div>
        </div>
    </div>


    <script>
        // --- Theme Management ---
        function setTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            if (theme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
            }
            localStorage.setItem('theme', theme);
        }
        const savedTheme = localStorage.getItem('theme') || 'light';
        setTheme(savedTheme);

        // --- Navbar and Menu ---
        const menuToggle = document.querySelector('.mobile-menu-toggle');
        const body = document.body;

        function toggleMobileMenu() {
            body.classList.toggle('menu-open');
        }

        function closeMobileMenu() {
            body.classList.remove('menu-open');
        }

        // --- Navbar Scroll Effect ---
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('page-header');
            const heroSection = document.getElementById('home');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }

            if (body.classList.contains('menu-open')) return;

            const heroBottom = heroSection.getBoundingClientRect().bottom;
            if (heroBottom > navbar.offsetHeight) {
                navbar.classList.add('text-light');
            } else {
                navbar.classList.remove('text-light');
            }
        });

        // --- Background Image Slideshow ---
        let currentBgIndex = 0;
        const backgrounds = document.querySelectorAll('#hero-backgrounds .fs-bg-el');
        function changeBackground() {
            if (backgrounds.length > 0) {
                backgrounds[currentBgIndex].classList.remove('active');
                currentBgIndex = (currentBgIndex + 1) % backgrounds.length;
                backgrounds[currentBgIndex].classList.add('active');
            }
        }
        setInterval(changeBackground, 5000);


        // --- Fade-in Animation on Scroll ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.section, .skill-item, .timeline-item, .project-detail').forEach(el => observer.observe(el));

        // --- Project Navigation ---
        const projectNavList = document.querySelector('.project-nav-list');
        const projectDetails = document.querySelectorAll('.project-detail');

        projectNavList.addEventListener('click', (e) => {
            e.preventDefault();
            const link = e.target.closest('a');
            if (!link) return;

            // Deactivate all
            projectNavList.querySelectorAll('a').forEach(l => l.classList.remove('active'));
            projectDetails.forEach(p => p.classList.remove('active'));

            // Activate clicked
            link.classList.add('active');
            const projectId = link.dataset.project;
            document.getElementById(projectId).classList.add('active');
        });


        // --- Contact Form Handler ---
        function handleFormSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                subject: formData.get('subject'),
                message: formData.get('message')
            };
            const subject = encodeURIComponent(`Portfolio Contact: ${data.subject}`);
            const body = encodeURIComponent(`Name: ${data.name}\nEmail: ${data.email}\n\nMessage:\n${data.message}`);
            const mailtoLink = `mailto:contact.anirudhgudi@gmail.com?subject=${subject}&body=${body}`;
            window.location.href = mailtoLink;
            alert('Thank you! Your email client should open now.');
            event.target.reset();
        }

        // --- 3D Model Viewer ---
        let scene, camera, renderer, currentModel;

        function init3DViewer() {
            const container = document.getElementById('model-viewer-container');
            if (!container) return;

            try {
                const width = container.clientWidth;
                const height = container.clientHeight;

                scene = new THREE.Scene();
                scene.background = new THREE.Color(0xf0f0f0);

                camera = new THREE.PerspectiveCamera(50, width / height, 0.1, 1000);
                camera.position.set(0, 3, 10);

                renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                renderer.setSize(width, height);
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.shadowMap.enabled = true;
                container.appendChild(renderer.domElement);

                const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
                scene.add(ambientLight);
                const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
                dirLight.position.set(5, 10, 7.5);
                dirLight.castShadow = true;
                scene.add(dirLight);

                let isDragging = false;
                let previousMousePosition = { x: 0, y: 0 };

                container.addEventListener('mousedown', e => { isDragging = true; });
                container.addEventListener('mouseup', e => { isDragging = false; });
                container.addEventListener('mousemove', e => {
                    const deltaMove = { x: e.offsetX - previousMousePosition.x, y: e.offsetY - previousMousePosition.y };
                    if (isDragging && currentModel) {
                        currentModel.rotation.y += deltaMove.x * 0.01;
                        currentModel.rotation.x += deltaMove.y * 0.01;
                    }
                    previousMousePosition = { x: e.offsetX, y: e.offsetY };
                });

                container.addEventListener('wheel', e => { camera.position.z += e.deltaY * 0.01; });

                animate();
                loadModel();

            } catch (error) {
                console.error("Error initializing 3D viewer:", error);
                container.innerHTML = '<p style="text-align: center; padding: 2rem; color: var(--text-light);">Could not initialize 3D viewer. Please ensure your browser supports WebGL.</p>';
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            if (renderer && scene && camera) {
                if (currentModel) {
                    currentModel.rotation.y += 0.002;
                }
                renderer.render(scene, camera);
            }
        }

        function loadModel() {
            if (currentModel) scene.remove(currentModel);
            const geometry = new THREE.IcosahedronGeometry(2, 0);
            const material = new THREE.MeshStandardMaterial({ color: 0xc769b0, roughness: 0.5, flatShading: true });
            currentModel = new THREE.Mesh(geometry, material);
            scene.add(currentModel);
        }

        window.addEventListener('load', () => {
            init3DViewer();
        });

        window.addEventListener('resize', () => {
            if (renderer && camera) {
                const container = document.getElementById('model-viewer-container');
                const width = container.clientWidth;
                const height = container.clientHeight;
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
                renderer.setSize(width, height);
            }
        });

        // --- AI Features ---

        const modal = document.getElementById('ai-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalPersonas = document.getElementById('modal-personas');
        let currentProjectContext = {};

        function showModal() {
            modal.classList.add('visible');
        }

        function closeModal() {
            modal.classList.remove('visible');
        }

        async function callGeminiAPI(prompt) {
            modalBody.innerHTML = '<div class="loader"></div>';
            const apiKey = ""; // Keep empty
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                });

                if (!response.ok) {
                    throw new Error(`API error: ${response.statusText}`);
                }

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    modalBody.innerHTML = `<p>${text.replace(/\n/g, '<br>')}</p>`;
                } else {
                    throw new Error("No content received from API.");
                }
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                modalBody.innerHTML = `<p>Sorry, there was an error getting a response from the AI. Please try again later.</p>`;
            }
        }

        function handleExplainProjectClick(buttonElement) {
            const projectItem = buttonElement.closest('.project-detail');
            currentProjectContext.title = projectItem.querySelector('.project-title').textContent;
            currentProjectContext.description = projectItem.querySelector('.project-description').textContent;

            modalTitle.textContent = `Explain: ${currentProjectContext.title}`;
            modalBody.innerHTML = `<p>How would you like me to explain this project?</p>`;

            modalPersonas.innerHTML = `
                <button class="ai-button persona-btn" onclick="getAIExplanation('for a recruiter')">For a Recruiter</button>
                <button class="ai-button persona-btn" onclick="getAIExplanation('like I am 5')">Like I'm 5</button>
                <button class="ai-button persona-btn" onclick="getAIExplanation('about the core innovation')">About the Core Innovation</button>
            `;

            showModal();
        }

        function getAIExplanation(persona) {
            const { title, description } = currentProjectContext;
            const prompt = `You are a helpful engineering expert. Explain the project titled "${title}" which is described as: "${description}". Explain it ${persona}. Keep the explanation concise, engaging, and under 100 words.`;
            callGeminiAPI(prompt);
        }

        function getCareerAdvice() {
            const aboutText = document.getElementById('about-text-content').textContent;
            const skills = Array.from(document.querySelectorAll('.skill-item p')).map(el => el.textContent).join(', ');

            const prompt = `I am a Mechanical Engineer specializing in Robotics. Here is my profile:
            About me: ${aboutText}
            My key skills are: ${skills}
            
            Based on this, act as an expert career advisor and suggest three potential high-impact career steps or skills I should learn next. Be concise, inspiring, and format your response with clear headings for each suggestion.`;

            modalTitle.textContent = 'AI Career Advisor';
            modalPersonas.innerHTML = '';
            showModal();
            callGeminiAPI(prompt);
        }

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });

    </script>
</body>

</html>